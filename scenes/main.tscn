[gd_scene load_steps=13 format=3 uid="uid://xbueol6ankih"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_3c80d"]
[ext_resource type="PackedScene" uid="uid://cj6w6cfs10ii3" path="res://scenes/minijuegos/vestirse.tscn" id="1_ytgol"]
[ext_resource type="PackedScene" uid="uid://cwbofkkm0rpoo" path="res://scenes/minijuegos/carriles.tscn" id="2_b7sen"]
[ext_resource type="FontFile" uid="uid://cushshrwx547c" path="res://fonts/karmaFuture.ttf" id="3_2pv2q"]
[ext_resource type="Texture2D" uid="uid://d2pjyoi7torhj" path="res://sprites/ui/cronometro.png" id="3_mtvjr"]
[ext_resource type="Script" path="res://scripts/reloj.gd" id="4_est3w"]
[ext_resource type="PackedScene" uid="uid://m8obp8i3um7l" path="res://scenes/minijuegos/bus.tscn" id="4_h3bg1"]
[ext_resource type="Texture2D" uid="uid://bqglb2llgk8re" path="res://sprites/ui/progreso_cronometro.png" id="4_mvppp"]
[ext_resource type="Script" path="res://scripts/verbo.gd" id="7_l4nrt"]
[ext_resource type="Texture2D" uid="uid://dpluvvesaufjp" path="res://sprites/ui/crosses_frame.png" id="8_642uu"]
[ext_resource type="Texture2D" uid="uid://b5uhupt5tu2ty" path="res://sprites/ui/crosses_redpng.png" id="9_6681w"]
[ext_resource type="Script" path="res://scripts/minigame_pre_screen.gd" id="12_sc36d"]

[node name="treeRoot" type="Node2D"]
script = ExtResource("1_3c80d")
minigames = Array[PackedScene]([ExtResource("1_ytgol"), ExtResource("2_b7sen"), ExtResource("4_h3bg1")])

[node name="minijuego" parent="." instance=ExtResource("1_ytgol")]

[node name="ui" type="Control" parent="."]
z_index = 5
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="cronometro" type="Control" parent="ui"]
anchors_preset = 0
offset_right = 67.0
offset_bottom = 51.0

[node name="reloj" type="Sprite2D" parent="ui/cronometro"]
z_index = 1
scale = Vector2(1.5, 1.5)
texture = ExtResource("3_mtvjr")
centered = false
script = ExtResource("4_est3w")
duration = 8

[node name="frame" type="Polygon2D" parent="ui/cronometro/reloj"]
z_index = -1
scale = Vector2(1.20202, 1.22981)
polygon = PackedVector2Array(0, 0, 0, 176, 176, 0)

[node name="tiempo" type="TextureProgressBar" parent="ui/cronometro/reloj"]
offset_left = 32.6667
offset_top = 32.6667
offset_right = 96.6667
offset_bottom = 96.6667
max_value = 5.0
value = 5.0
rounded = true
fill_mode = 5
texture_progress = ExtResource("4_mvppp")
tint_progress = Color(0, 1, 0, 1)
radial_initial_angle = 45.0

[node name="Timer" type="Timer" parent="ui/cronometro/reloj"]
wait_time = 5.0

[node name="score" type="Label" parent="ui"]
z_index = 3
layout_mode = 0
offset_left = 1099.0
offset_right = 1280.0
offset_bottom = 94.0
theme_override_fonts/font = ExtResource("3_2pv2q")
theme_override_font_sizes/font_size = 64
text = "0000
"

[node name="frame" type="Polygon2D" parent="ui/score"]
z_index = -1
scale = Vector2(1.20202, 1.22981)
polygon = PackedVector2Array(150.58, 69.9293, 40.7647, 89.4444, -18.3026, 63.4242, -25.7899, 0, -41.5966, 0, -31.6135, 78.8737, 36.605, 112.212, 150.58, 87.005)

[node name="vidas" type="TextureProgressBar" parent="ui"]
z_index = 2
layout_mode = 0
offset_left = 1019.0
offset_top = 84.0
offset_right = 1275.0
offset_bottom = 212.0
max_value = 3.0
fill_mode = 1
texture_under = ExtResource("8_642uu")
texture_progress = ExtResource("9_6681w")

[node name="verbo" type="RichTextLabel" parent="ui"]
z_index = 1
layout_mode = 0
offset_top = 620.0
offset_right = 1280.0
offset_bottom = 720.0
theme_override_fonts/normal_font = ExtResource("3_2pv2q")
theme_override_font_sizes/normal_font_size = 64
bbcode_enabled = true
text = "[shake rate=30.0 level=15 connected=1][center]ยก BLANK ![/center][/shake]"
script = ExtResource("7_l4nrt")

[node name="gameover" type="RichTextLabel" parent="ui"]
process_mode = 2
visible = false
z_index = 2
layout_mode = 0
offset_right = 1280.0
offset_bottom = 720.0
theme_override_fonts/normal_font = ExtResource("3_2pv2q")
theme_override_font_sizes/normal_font_size = 96
bbcode_enabled = true
text = "[center][shake rate=30.0 level=15 connected=1]

GAME OVER
!GOOD LUCK NEXT TIME![/shake][/center]"

[node name="Polygon2D" type="Polygon2D" parent="ui/gameover"]
z_index = -1
position = Vector2(0, 199)
color = Color(0, 0, 0, 0.6)
polygon = PackedVector2Array(0, -199, 0, 521, 1280, 521, 1280, -198)

[node name="minigame_pre_screen" type="Control" parent="ui"]
visible = false
z_index = 3
layout_mode = 1
anchor_right = 31.95
anchor_bottom = 17.925
offset_bottom = -6.10352e-05
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("12_sc36d")

[node name="ColorRect" type="ColorRect" parent="ui/minigame_pre_screen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.439216)

[node name="timer" type="Timer" parent="ui/minigame_pre_screen"]

[node name="timer_label" type="RichTextLabel" parent="ui/minigame_pre_screen"]
z_index = 1
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -256.0
offset_top = -120.5
offset_right = 256.0
offset_bottom = 120.5
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = ExtResource("3_2pv2q")
theme_override_font_sizes/normal_font_size = 64
bbcode_enabled = true
text = "[shake rate=30.0 level=15 connected=1][center][font_size=160]Timer[/font_size][/center][/shake]"

[node name="success_message" type="Control" parent="ui"]
visible = false
z_index = 3
layout_mode = 1
anchor_right = 31.95
anchor_bottom = 17.925
offset_bottom = -6.10352e-05
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="ui/success_message"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.439216)

[node name="timer_label" type="RichTextLabel" parent="ui/success_message"]
z_index = 1
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -352.0
offset_top = -120.5
offset_right = 352.0
offset_bottom = 120.5
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = ExtResource("3_2pv2q")
theme_override_font_sizes/normal_font_size = 64
bbcode_enabled = true
text = "[shake rate=30.0 level=15 connected=1][center][font_size=160]Awesome![/font_size][/center][/shake]"

[connection signal="timeout" from="ui/cronometro/reloj/Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="ui/minigame_pre_screen/timer" to="." method="_on_pre_minigame_timer_timeout"]
